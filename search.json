[{"title":"记录用到过的js 正则表达式","url":"/2018/04/21/javascript-regular-expression/","content":"## js正则表达式\n\n### 匹配[img]str[/img]存储的图片路径\n\t  const str = '[img]../group1/M00/00/06/wKgudVrWqlCAD8ajAA1rIuRd3Es808.jpg[/img]'\n\t  let reg = /(\\[img\\])(.+?)(\\[\\/img\\])/gi\n\t  const str = cclob.replace(reg, '<img src=\"$2\"/>') \n\t  //<img src=\"../group1/M00/00/06/wKgudVrWqlCAD8ajAA1rIuRd3Es808.jpg\"/>\t\n      \n\t  \n### 判断文件是否为png,jp,word等文件类型\n\tconst str = 'aaa.word'\n\tstr.match(/.*?(gif|png|jpg)/gi) // false"},{"title":"Vue2中使用函数节流和函数去抖","url":"/2018/03/28/javascript_throttle_debounce/","content":"\n函数节流，防止同一个时间在一定时间内重复执行，所以推荐使用函数节流，例如常常用到的浏览器窗口的resize时间\n\n## 函数节流\n\n\t// 函数节流\n\t// throttle函数接收两个参数\n\t// @params fn: 需要被延迟执行的函数;\n\t// @params interval: 延迟执行的时间;\n\texport function throttle (fn, interval) {\n  \t\tvar _self = fn // 保存需要被延迟执行的函数引用\n  \t\tvar timer // 计时器\n  \t\tvar firstTime = true // 是否第一次调用\n  \t\treturn function () {\n    \t\tvar args = arguments\n    \t\tvar _this = this\n    \t\tif (firstTime) { // 如果是第一次调用, 不需要延迟执行\n      \t\t\t_self.apply(_this, args)\n      \t\treturn firstTime = false\n    \t}\n    \tif (timer) { // 如果定时器还在, 说明前一次延迟执行还未完成\n      \t\treturn false\n    \t}\n    \ttimer = setTimeout(function () {\n      \t\tclearTimeout(timer)\n      \t\ttimer = null\n      \t\t_self.apply(_this, args)\n    \t}, interval || 500)\n  \t}\n### 调用方式\n\n\tthrottle (function(){\n      // todo\n    },300),\n## 函数去抖\n函数去抖，如果用手指一直按住一个弹簧，它将不会弹起直到你松手为止。例如百度的搜索功能\n\n\t// 函数去抖\n\t// debounce函数接收两个参数\n\t// @params fn: 需要被延迟执行的函数;\n\t// @params wait: 延迟执行的时间;\n\texport function debounce (fn, wait, immediate) {\n\t  let timeout, args, context, timestamp, result\n\t\n\t  const later = function () {\n\t    // 据上一次触发时间间隔\n\t    const last = +new Date() - timestamp\n\t    // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\n\t    if (last < wait && last > 0) {\n\t      timeout = setTimeout(later, wait - last)\n\t    } else {\n\t      timeout = null\n\t      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\n\t      if (!immediate) {\n\t        result = func.apply(context, args)\n\t        if (!timeout) context = args = null\n\t      }\n\t    }\n\t  }\n\t\n\t  return function (...args) {\n\t    context = this\n\t    timestamp = +new Date()\n\t    const callNow = immediate && !timeout\n\t    // 如果延时不存在，重新设定延时\n\t    if (!timeout) timeout = setTimeout(later, wait)\n\t    if (callNow) {\n\t      result = func.apply(context, args)\n\t      context = args = null\n\t    }\n\t\n\t    return result\n\t  }\n\t}\n\n### 调用方式\n\n\tdebounce (function(){\n      // todo\n    },300),"}]